{"author":{"id":"074a4f7a350cec06f4432624eaeed14239273946b9afdfee6efe47856356823a"},"ops":[{"type":3,"timestamp":1723874685,"nonce":"notAj/whgiOgWOI1+oFjnncCUWg=","metadata":{"github-id":"IC_kwDOJl1IZM6Ixc5P","github-url":"https://github.com/nikitabobko/AeroSpace/issues/409#issuecomment-2294664783"},"message":"The problem should be reproduced by `mpv --fs --no-native-fs video_file` with no other configs. These are the only two flags that matter. The mpv version is `0.38.0`, installed with `brew install mpv`.\n\nThe `fs` flag tells `mpv` to start fullscreen, while the `no-native-fs` flag tells `mpv` not to use macOS native fullscreen.\n\nOne thing I do not understand from your comment is that with the `fs` flag, the desired behaviour is the window not getting tiled and being on top of all other windows. It should look like if you focus on `mpv`, then press \"f\". If your window is still being tiled like a normal window, I wonder if the `fs` flag functioned properly for you.\n\nI checked the debug info again with and without the flags. `AXSubrole: Optional(AXUnknown)` appears only if both of the above flags are used. Without one or both of the flags, the debug info shows them as standard windows. Please make sure the `fs` flag is used and that `mpv` starts fullscreen, then you can try to reproduce the problem that the terminal window is obscuring the supposedly fullscreen player with the `no-native-fs` flag.","files":null},{"type":3,"timestamp":1724636897,"nonce":"17DDhGFa++aiFCT9CupP69RXjvo=","metadata":{"github-id":"IC_kwDOJl1IZM6JorgH","github-url":"https://github.com/nikitabobko/AeroSpace/issues/409#issuecomment-2309142535"},"message":"I accidentally found the real culprit. The problem is caused by `aerospace sub-command` being called when the front app is switched. Whenever it is called, the windows get reorganized and since the `mpv` and `qlmanage -p` windows are not recognized as usual windows, they get obscured.\n\nThis happened to me because I use `sketchybar`. I have an item subscribed to `front_app_switched`, which calls `aerospace list-workspaces --focused` to update the item. So the windows actually get focused correctly, but then the event `front_app_switched` is triggered, calling `aerospace`, which reorganizes the windows. For now, I get around this by not using `aerospace` to update the item, which limits the integration between `aerospace` and `sketchybar`. This is unfortunate, but allows me to use a terminal file manager to preview images just like what Finder is capable of. Now both `mpv` and `qlmanage -p` are working properly with `aerospace`\n\nNote: previewing with Finder works fine because the app is still Finder when the preview pane is opened.\n\nI wonder if you also use `sketchybar` and if you could reproduce this behaviour. I also wonder can `aerospace sub-command` be called without reorganizing the windows. With these questions answered this issue can be closed.","files":null}]}