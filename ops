{"author":{"id":"5d2b382c463c88799818fadadb617d7569c322221b69179125c9a7c1c37a711b"},"ops":[{"type":3,"timestamp":1729949572,"nonce":"ro9MDKEF9c7N7UzcyQXtj0xGJCA=","metadata":{"github-id":"IC_kwDOJl1IZM6RaSCN","github-url":"https://github.com/nikitabobko/AeroSpace/issues/510#issuecomment-2439585933"},"message":"In case someone lands here, now that https://github.com/nikitabobko/AeroSpace/issues/186 was completed, I extended my own version of the script from https://github.com/nikitabobko/AeroSpace/issues/296#issuecomment-2332133934 and got XMonad like scratchpad to work that's close to what you are looking for.\n\n```shell\n#!/usr/bin/env bash\n\nset -euo pipefail\n\nAPP_ID=\"$1\"\nAPP_NAME=\"$2\"\nCURRENT_WORKSPACE=$(aerospace list-workspaces --focused)\n\nget_window_id() {\n    aerospace list-windows --all --format \"%{window-id}%{right-padding} | %{app-name}\" |\n    grep \"$APP_NAME\" |\n    cut -d' ' -f1 |\n    head -n1\n}\n\nfocus_app() {\n    local app_window_id\n    app_window_id=$(get_window_id)\n    aerospace move-node-to-workspace \"$CURRENT_WORKSPACE\" --window-id \"$app_window_id\"\n    aerospace focus --window-id \"$app_window_id\"\n}\n\nis_app_closed() {\n    ! aerospace list-windows --all --format '%{app-name}' | grep -q \"$APP_NAME\"\n}\n\nmove_app_to_scratchpad() {\n    local app_window_id\n    app_window_id=$(aerospace list-windows --workspace \"$CURRENT_WORKSPACE\" --format \"%{window-id}%{right-padding} | %{app-name}\" |\n                    grep \"$APP_NAME\" |\n                    cut -d' ' -f1 |\n                    head -n1)\n    aerospace move-node-to-workspace NSP --window-id \"$app_window_id\"\n}\n\nmain() {\n    if is_app_closed; then\n        open -a \"$APP_NAME\"\n        sleep 0.5\n    elif aerospace list-windows --workspace \"$CURRENT_WORKSPACE\" --format \"%{app-bundle-id}\" | grep -q \"$APP_ID\"; then\n        move_app_to_scratchpad\n    else\n        focus_app\n    fi\n}\nmain\n```\n\nAnd I configure it in `aerospace.toml` like so\n\n```toml\ncmd-shift-a = 'exec-and-forget /Users/me/.config/scratchpad/nsp.sh com.aptakube.Aptakube Aptakube'\ncmd-shift-s = 'exec-and-forget /Users/me/.config/scratchpad/nsp.sh org.whispersystems.signal-desktop Signal'\ncmd-shift-e = 'exec-and-forget /Users/me/.config/scratchpad/nsp.sh org.gnu.Emacs Emacs'\n```\n\nI am quite pleased with the results and almost don't miss XMonad.","files":null}]}