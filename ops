{"author":{"id":"58a7ac7ce49a21f05522aec3d41bd308838e0307e1823658cc1a4e15e3727fbc"},"ops":[{"type":3,"timestamp":1713505316,"nonce":"5IAqI2HbaXHgt4oa9NEtDLMMgJE=","metadata":{"github-id":"IC_kwDOJl1IZM57IZ5M","github-url":"https://github.com/nikitabobko/AeroSpace/issues/199#issuecomment-2065800780"},"message":"I'm having what I believe is a related and similar problem.  My default shell is fish.\n\nWhen starting from finder/spotlight my shell is set correctly to fish.  When starting via `alt-t = 'exec-and-forget open -n /Applications/alacritty.app'` the `SHELL` variable is fish, but the shell it self is not, it is `sh`.\n\nWhat's even weirder is that this was initially not working, so I fiddled around with app permissions by running `find .` in alacritty to force permission dialogs to appear, and then rebooted.  After that things worked correctly, but after a subsequent reboot they did not.  It's very confusing.\n\nI noticed that there is one env var that I'm not setting in my fish config that differs between the two environments:  `_=/usr/bin/env` exists when started from aerospace but not when started from finder/spotlight.\n\nAs someone stated above, other terminal emulators work fine, it's only alacritty and only when it's launched from aerospace.\n\nThanks!  And especially thanks for this wonderful project!  I am forced to use a mac for work now (...) where I was previously using i3 and then sway for many years.  This really is improving an otherwise very depressing situation immensely.  So thank you very much for taking the time to build this.","files":null},{"type":6,"timestamp":1713538659,"nonce":"bwKy3sHyDJtR/uVcZeAL07bCjw4=","metadata":{"github-id":"UCE_lALOJl1IZM57IZ5MzkSXljc"},"target":"2aae4c6b8568aac9441ef7757f4ab8241a971f258929a6f845d42b663db2aecb","message":"I'm having what I believe is a related and similar problem.  My default shell is fish.\n\nWhen starting from finder/spotlight my shell is set correctly to fish.  When starting via `alt-t = 'exec-and-forget open -n /Applications/alacritty.app'` the `SHELL` variable is fish, but the shell it self is not, it is `sh`.\n\nWhat's even weirder is that this was initially not working, so I fiddled around with app permissions by running `find .` in alacritty to force permission dialogs to appear, and then rebooted.  After that things worked correctly, but after a subsequent reboot they did not.  It's very confusing.\n\nI noticed that there is one env var that I'm not setting in my fish config that differs between the two environments:  `_=/usr/bin/env` exists when started from aerospace but not when started from finder/spotlight.\n\nAs someone stated above, other terminal emulators work fine, it's only alacritty and only when it's launched from aerospace.\n\nThanks!  And especially thanks for this wonderful project!  I am forced to use a mac for work now (...) where I was previously using i3 and then sway for many years.  This really is improving an otherwise very depressing situation immensely.  So thank you very much for taking the time to build this.\n\nEDIT:  I set `exec.inherit-env-vars = false` at the top of the `.aerospace.toml` file, before the `[mode.main.binding]` section and that *seems* to have resolved it.  I'll see if that sticks past a reboot.","files":null},{"type":6,"timestamp":1713540091,"nonce":"8ET+5fFA6f2kJnU/Ik6gPsJtMNk=","metadata":{"github-id":"UCE_lALOJl1IZM57IZ5MzkSYGTY"},"target":"2aae4c6b8568aac9441ef7757f4ab8241a971f258929a6f845d42b663db2aecb","message":"I'm having what I believe is a related and similar problem.  My default shell is fish.\n\nWhen starting from finder/spotlight my shell is set correctly to fish.  When starting via `alt-t = 'exec-and-forget open -n /Applications/alacritty.app'` the `SHELL` variable is fish, but the shell it self is not, it is `sh`.\n\nWhat's even weirder is that this was initially not working, so I fiddled around with app permissions by running `find .` in alacritty to force permission dialogs to appear, and then rebooted.  After that things worked correctly, but after a subsequent reboot they did not.  It's very confusing.\n\nI noticed that there is one env var that I'm not setting in my fish config that differs between the two environments:  `_=/usr/bin/env` exists when started from aerospace but not when started from finder/spotlight.\n\nAs someone stated above, other terminal emulators work fine, it's only alacritty and only when it's launched from aerospace.\n\nThanks!  And especially thanks for this wonderful project!  I am forced to use a mac for work now (...) where I was previously using i3 and then sway for many years.  This really is improving an otherwise very depressing situation immensely.  So thank you very much for taking the time to build this.\n\nEDIT:  I set `exec.inherit-env-vars = false` at the top of the `.aerospace.toml` file, before the `[mode.main.binding]` section and that *seems* to have resolved it.  I'll see if that sticks past a reboot.\n\nEDIT2:  I had some other things which broke because of the above change like a script which does next-on-output using `aerospace list-workspaces --monitor focused --empty no | aerospace workspace --wrap-around next`.  For that it was enough to set the PATH correctly in the script as the env that comes from aerospace is now extremely minimal (as is to be expected):\n\n```\nPWD=/\nSHLVL=2\n_=/usr/bin/env\n```","files":null}]}