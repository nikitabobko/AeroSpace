{"author":{"id":"69eac205e8df31f11ecfc31baed5fd00141ba5cc61c65346f19d657aa7a90c21"},"ops":[{"type":6,"timestamp":1724068130,"nonce":"ffLO7Wtlnh0XoMVcb8QKC8O9rZA=","metadata":{"github-id":"UCE_lAHOJl1IZM6TaXZ5zmJt5a4"},"target":"54648c6b43a7b24e49e6248de82ed47ebece1a5a6be580a42f9d5c22fdc1fe5e","message":"Adding `AEROSPACE_EMPTY_WORKSPACES` to the `exec-on-workspace-change` event will make it possible to dynamically show/hide or visually indicate which workspace has no windows currently in it in sketchybar or similar softwares.\n\nExample from the readme:\n```\nexec-on-workspace-change = ['/bin/bash', '-c',\n    '/opt/homebrew/opt/sketchybar/bin/sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE EMPTY_WORKSPACES=$AEROSPACE_EMPTY_WORKSPACES'\n]\n```\n\n## Checklist\n- [x] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - --empty\n  - EMPTY_WORKSPACES\n  - \"show empty workspaces\"\n- [x] I've read the documentation https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands\n- [x] I've searched in the documentation. My search queries were:\n  - empty\n  - empty_workspaces\n  - show empty\n\n```\naerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\nAeroSpace.app server version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\n```","files":null},{"type":6,"timestamp":1724068393,"nonce":"muuC+dTJIuFcC//T0m0uZnCYoG0=","metadata":{"github-id":"UCE_lAHOJl1IZM6TaXZ5zmJt-1c"},"target":"54648c6b43a7b24e49e6248de82ed47ebece1a5a6be580a42f9d5c22fdc1fe5e","message":"Adding `AEROSPACE_EMPTY_WORKSPACES` to the `exec-on-workspace-change` event will make it possible to dynamically show/hide or visually indicate which workspace has no windows currently in it in sketchybar or similar softwares.\n\nExample from the [AeroSpace Goodness section in the readme](https://nikitabobko.github.io/AeroSpace/goodness):\n`aerospace.toml`\n```bash\nexec-on-workspace-change = ['/bin/bash', '-c',\n    '/opt/homebrew/opt/sketchybar/bin/sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE EMPTY_WORKSPACES=$AEROSPACE_EMPTY_WORKSPACES'\n]\n```\n\n`.config/sketchybar/plugins/aerospace.sh`\n```bash\n#!/usr/bin/env bash\n\n# make sure it's executable with:\n# chmod +x ~/.config/sketchybar/plugins/aerospace.sh\n\n#!/usr/bin/env bash\n\n# make sure it's executable with:\n# chmod +x ~/.config/sketchybar/plugins/aerospace.sh\n\nif echo \"$EMPTY_WORKSPACES\" | grep -q \"$1\"; then\n\tLABEL_COLOR=\"$RED\"\nelse\n\tLABEL_COLOR=\"$WHITE\"\nfi\n\nif [ \"$1\" = \"$FOCUSED_WORKSPACE\" ]; then\n    sketchybar --set $NAME background.drawing=on label.color=\"$LABEL_COLOR\"\nelse\n    sketchybar --set $NAME background.drawing=off label.color=\"$LABEL_COLOR\"\nfi\n\n```\n\n## Checklist\n- [x] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - --empty\n  - EMPTY_WORKSPACES\n  - \"show empty workspaces\"\n- [x] I've read the documentation https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands\n- [x] I've searched in the documentation. My search queries were:\n  - empty\n  - empty_workspaces\n  - show empty\n\n```\naerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\nAeroSpace.app server version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\n```","files":null},{"type":6,"timestamp":1724068486,"nonce":"+xd6MV+GHfXmuvqPDSzzNpeAj+Y=","metadata":{"github-id":"UCE_lAHOJl1IZM6TaXZ5zmJuAyk"},"target":"54648c6b43a7b24e49e6248de82ed47ebece1a5a6be580a42f9d5c22fdc1fe5e","message":"Adding `AEROSPACE_EMPTY_WORKSPACES` to the `exec-on-workspace-change` event will make it possible to dynamically show/hide or visually indicate which workspace has no windows currently in it in sketchybar or similar softwares.\n\nExample from the [AeroSpace Goodness section in the readme](https://nikitabobko.github.io/AeroSpace/goodness):\n`aerospace.toml`\n```bash\nexec-on-workspace-change = ['/bin/bash', '-c',\n    '/opt/homebrew/opt/sketchybar/bin/sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE EMPTY_WORKSPACES=$AEROSPACE_EMPTY_WORKSPACES'\n]\n```\n\n`.config/sketchybar/plugins/aerospace.sh`\n```bash\n#!/usr/bin/env bash\n\n# make sure it's executable with:\n# chmod +x ~/.config/sketchybar/plugins/aerospace.sh\n\n#!/usr/bin/env bash\n\n# make sure it's executable with:\n# chmod +x ~/.config/sketchybar/plugins/aerospace.sh\n\nif echo \"$EMPTY_WORKSPACES\" | grep -q \"$1\"; then\n\tLABEL_COLOR=\"$RED\" #marks empty workspaces in red\nelse\n\tLABEL_COLOR=\"$WHITE\" #marks workspaces with windows in white\nfi\n\nif [ \"$1\" = \"$FOCUSED_WORKSPACE\" ]; then\n    sketchybar --set $NAME background.drawing=on label.color=\"$LABEL_COLOR\"\nelse\n    sketchybar --set $NAME background.drawing=off label.color=\"$LABEL_COLOR\"\nfi\n\n```\n\n## Checklist\n- [x] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - --empty\n  - EMPTY_WORKSPACES\n  - \"show empty workspaces\"\n- [x] I've read the documentation https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands\n- [x] I've searched in the documentation. My search queries were:\n  - empty\n  - empty_workspaces\n  - show empty\n\n```\naerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\nAeroSpace.app server version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\n```","files":null},{"type":6,"timestamp":1724069300,"nonce":"cOq7tvr1rlFbrvS7gKOIhLoMmqU=","metadata":{"github-id":"UCE_lAHOJl1IZM6TaXZ5zmJuSx4"},"target":"54648c6b43a7b24e49e6248de82ed47ebece1a5a6be580a42f9d5c22fdc1fe5e","message":"Adding `AEROSPACE_EMPTY_WORKSPACES` to the `exec-on-workspace-change` event will make it possible to dynamically show/hide or visually indicate which workspace has no windows currently in it in sketchybar or similar softwares.\n\nExample from the [AeroSpace Goodness section in the readme](https://nikitabobko.github.io/AeroSpace/goodness):\n`aerospace.toml`\n```bash\nexec-on-workspace-change = ['/bin/bash', '-c',\n    '/opt/homebrew/opt/sketchybar/bin/sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE EMPTY_WORKSPACES=$AEROSPACE_EMPTY_WORKSPACES'\n]\n```\n\n`.config/sketchybar/plugins/aerospace.sh`\n```bash\n#!/usr/bin/env bash\n\n# make sure it's executable with:\n# chmod +x ~/.config/sketchybar/plugins/aerospace.sh\n\n#!/usr/bin/env bash\n\n# make sure it's executable with:\n# chmod +x ~/.config/sketchybar/plugins/aerospace.sh\n\nif echo \"$EMPTY_WORKSPACES\" | grep -q \"$1\"; then\n\tLABEL_COLOR=\"$RED\" # marks empty workspaces in red\nelse\n\tLABEL_COLOR=\"$WHITE\" # marks workspaces with windows in white\nfi\n\nif [ \"$1\" = \"$FOCUSED_WORKSPACE\" ]; then\n    sketchybar --set $NAME background.drawing=on label.color=\"$LABEL_COLOR\"\nelse\n    sketchybar --set $NAME background.drawing=off label.color=\"$LABEL_COLOR\"\nfi\n\n```\n\nCurrently, if adding `EMPTY_WORKSPACES=$(aerospace list-workspaces --monitor focused --empty)` to `~/.config/sketchybar/plugins/aerospace.sh` it is slow, because it computes it for every workspace on workspace change,  which is not ideal and the performance drop is visible. I could not find other way to do it dynamically so it updates if the workspace becomes empty/popuplated. I looked at other configs in github for a way to do it with no luck.\n\n## Checklist\n- [x] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - --empty\n  - EMPTY_WORKSPACES\n  - \"show empty workspaces\"\n- [x] I've read the documentation https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands\n- [x] I've searched in the documentation. My search queries were:\n  - empty\n  - empty_workspaces\n  - show empty\n\n```\naerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\nAeroSpace.app server version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\n```","files":null},{"type":6,"timestamp":1724069344,"nonce":"9TIzJusyePZrfu2IO4/9syQvOS8=","metadata":{"github-id":"UCE_lAHOJl1IZM6TaXZ5zmJuT40"},"target":"54648c6b43a7b24e49e6248de82ed47ebece1a5a6be580a42f9d5c22fdc1fe5e","message":"Adding `AEROSPACE_EMPTY_WORKSPACES` to the `exec-on-workspace-change` event will make it possible to dynamically show/hide or visually indicate which workspace has no windows currently in it in sketchybar or similar softwares.\n\nExample from the [AeroSpace Goodness section in the readme](https://nikitabobko.github.io/AeroSpace/goodness):\n`aerospace.toml`\n```bash\nexec-on-workspace-change = ['/bin/bash', '-c',\n    '/opt/homebrew/opt/sketchybar/bin/sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE EMPTY_WORKSPACES=$AEROSPACE_EMPTY_WORKSPACES'\n]\n```\n\n`.config/sketchybar/plugins/aerospace.sh`\n```bash\n#!/usr/bin/env bash\n\n# make sure it's executable with:\n# chmod +x ~/.config/sketchybar/plugins/aerospace.sh\n\n#!/usr/bin/env bash\n\n# make sure it's executable with:\n# chmod +x ~/.config/sketchybar/plugins/aerospace.sh\n\nif echo \"$EMPTY_WORKSPACES\" | grep -q \"$1\"; then\n\tLABEL_COLOR=\"$RED\" # marks empty workspaces in red\nelse\n\tLABEL_COLOR=\"$WHITE\" # marks workspaces with windows in white\nfi\n\nif [ \"$1\" = \"$FOCUSED_WORKSPACE\" ]; then\n    sketchybar --set $NAME background.drawing=on label.color=\"$LABEL_COLOR\"\nelse\n    sketchybar --set $NAME background.drawing=off label.color=\"$LABEL_COLOR\"\nfi\n\n```\n\nCurrently, if adding `EMPTY_WORKSPACES=$(aerospace list-workspaces --monitor focused --empty)` to `~/.config/sketchybar/plugins/aerospace.sh` it is slow, because it computes it for every workspace on workspace change,  which is not ideal and the performance drop is visible. I could not find other way to do it dynamically so it updates if the workspace becomes empty/popuplated. I've red to readmes many times, looked at other configs in github for a way to do it with no luck.\n\n## Checklist\n- [x] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - --empty\n  - EMPTY_WORKSPACES\n  - \"show empty workspaces\"\n- [x] I've read the documentation https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands\n- [x] I've searched in the documentation. My search queries were:\n  - empty\n  - empty_workspaces\n  - show empty\n\n```\naerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\nAeroSpace.app server version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\n```","files":null}]}