{"author":{"id":"2d08e4816aca0a07db9878f126b0e7f6d6f1362eb9bc4804be6b33ff8d0a19ec"},"ops":[{"type":3,"timestamp":1707131151,"nonce":"+yk4P06A9ktwt9P5GC5004A8LO8=","metadata":{"github-id":"IC_kwDOJl1IZM5y15MI","github-url":"https://github.com/nikitabobko/AeroSpace/issues/147#issuecomment-1926730504"},"message":"Hello!\n\nOf course, feel free to try to port it to Monterey. Can't promise that, but if I like the result, I will merge it\n\nYour entry point is:\n1. change deploymentTarget\n```diff\ndiff --git a/LocalPackage/Package.swift b/LocalPackage/Package.swift\nindex 0f736df..e5feb18 100644\n--- a/LocalPackage/Package.swift\n+++ b/LocalPackage/Package.swift\n@@ -5,7 +5,7 @@ import PackageDescription\n \n let package = Package(\n     name: \"AeroSpacePackage\",\n-    platforms: [.macOS(.v13)], /* Runtime support for parameterized protocol types is only available in macOS 13.0.0 or newer\n+    platforms: [.macOS(.v12)], /* Runtime support for parameterized protocol types is only available in macOS 13.0.0 or newer\n                                   And it specifies deploymentTarget */\n     // Products define the executables and libraries a package produces, making them visible to other packages.\n     products: [\ndiff --git a/project.yml b/project.yml\nindex 3b7a6db..b3329d1 100644\n--- a/project.yml\n+++ b/project.yml\n@@ -22,7 +22,7 @@ targets:\n   AeroSpace:\n     type: application\n     platform: macOS\n-    deploymentTarget: \"13.0\"\n+    deploymentTarget: \"12.0\"\n     sources: [src/, docs/config-examples/default-config.toml]\n     configFiles:\n       Release: .local.xcconfig\n```\n2. Run `generate.sh`\n3. Try to compile it and see what breaks\n\n\u003e Is there any difference between the api used in Monterey and Ventura?\n\nI am aware of two problems:\n1. I use SwiftUI to show the tray icon https://github.com/nikitabobko/AeroSpace/blob/main/src/AeroSpaceApp.swift#L37 It needs to be rewritten to NSMenu to run on Monterey. An alternative is to keep using SwiftUI on macOS 13 and higher, and NSMenu on Monterey\n2. I use parameterized protocol types. They work only since macOS 13, so this code needs to adapted","files":null}]}