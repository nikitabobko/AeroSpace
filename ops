{"author":{"id":"2d08e4816aca0a07db9878f126b0e7f6d6f1362eb9bc4804be6b33ff8d0a19ec"},"ops":[{"type":3,"timestamp":1720620209,"nonce":"zFPpAOXpwZhmB/xB1hqSTg8p+dw=","metadata":{"github-id":"IC_kwDOJl1IZM6EW6bC","github-url":"https://github.com/nikitabobko/AeroSpace/issues/325#issuecomment-2220598978"},"message":"Every time workspace changes, `focusedWorkspaceName` is updated https://github.com/nikitabobko/AeroSpace/blob/8eb3c648c0b4fbab7f9672f57d70cdf1bb144437/Sources/AppBundle/focused.swift#L30\n\nYou can start your debug journey from there","files":null},{"type":3,"timestamp":1720620656,"nonce":"yoM0HJrRBZ7K6qOrmKGvHz+F7fA=","metadata":{"github-id":"IC_kwDOJl1IZM6EW_7q","github-url":"https://github.com/nikitabobko/AeroSpace/issues/325#issuecomment-2220621546"},"message":"One problematic place that maybe the cause of your problem and #289 is this line https://github.com/nikitabobko/AeroSpace/blob/8eb3c648c0b4fbab7f9672f57d70cdf1bb144437/Sources/AppBundle/tree/MacWindow.swift#L79\n\nSince macOS has different opinion on what window is on top of the window stack (because AeroSpace uses workspace emulation), AeroSpace force focuses the workspace when the window on that workspace closes\n\nImagine that a window closes on the currently focused workspace. You don't want your focus to jump to another workspace (that might happen if macOS thinks that a window on the another workspace is on top of the stack), you want your focus to stay on the currently focused workspace","files":null},{"type":6,"timestamp":1720620952,"nonce":"Umnf7cHIgNNGW3JObEMphe3VZtM=","metadata":{"github-id":"UCE_lALOJl1IZM6EW_7qzkqCmHA"},"target":"e189e10fae42a9f54b35c9d2114c086656545fab355156a33f8133c5dc852b76","message":"One problematic place that I suspect maybe the cause of your problem and #289 is this line https://github.com/nikitabobko/AeroSpace/blob/8eb3c648c0b4fbab7f9672f57d70cdf1bb144437/Sources/AppBundle/tree/MacWindow.swift#L79\n\nSince macOS has different opinion on what window is on top of the window stack (because AeroSpace uses workspace emulation), AeroSpace force focuses the workspace when the window on that workspace closes\n\nImagine that a window closes on the currently focused workspace. You don't want your focus to jump to another workspace (that might happen if macOS thinks that a window on the another workspace is on top of the stack), you want your focus to stay on the currently focused workspace","files":null},{"type":3,"timestamp":1720620883,"nonce":"MEIead9qRnoZG4Or82OVsGbCXMc=","metadata":{"github-id":"IC_kwDOJl1IZM6EXCYw","github-url":"https://github.com/nikitabobko/AeroSpace/issues/325#issuecomment-2220631600"},"message":"\u003cpendatic\u003e\nit's even worse, because macOS doesn't think in terms of \"window stack\". It has \"app stack\", and each app in the stack has its own stack of windows\n\u003c/pendatic\u003e","files":null},{"type":6,"timestamp":1720620897,"nonce":"lRfzRYg4pR4zekxc6IWSXsjWI8g=","metadata":{"github-id":"UCE_lALOJl1IZM6EXCYwzkqCkms"},"target":"32addc8e43bc269127832999c3f56789d780d7011aafce363d901bd8281a13b9","message":"\\\u003cpendatic\u003e\nit's even worse, because macOS doesn't think in terms of \"window stack\". It has \"app stack\", and each app in the stack has its own stack of windows\n\\\u003c/pendatic\u003e","files":null},{"type":6,"timestamp":1720620915,"nonce":"bRG+QoBGqeALc6uu3VY+jHic8Sw=","metadata":{"github-id":"UCE_lALOJl1IZM6EXCYwzkqClG8"},"target":"32addc8e43bc269127832999c3f56789d780d7011aafce363d901bd8281a13b9","message":"\\\u003cpedantic\u003e\nit's even worse, because macOS doesn't think in terms of \"window stack\". It has \"app stack\", and each app in the stack has its own stack of windows\n\\\u003c/pedantic\u003e","files":null}]}