{"author":{"id":"db677fd2dd807c03403255ecebeb7e56f85041d7e2b920c5a3fcc7311607e4d3"},"ops":[{"type":3,"timestamp":1726010422,"nonce":"8XguokAOzmWKaW8VPDsYcwFa4iY=","metadata":{"github-id":"IC_kwDOJl1IZM6LnQ7f","github-url":"https://github.com/nikitabobko/AeroSpace/issues/237#issuecomment-2342325983"},"message":"Same issue here. \n\nIt happens when I use [action.ToggleFullScreen](https://wezfurlong.org/wezterm/config/lua/keyassignment/ToggleFullScreen.html) in wezterm.\n\nAerospace version:\n  aerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\n  AeroSpace.app server version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\n  \nWezterm config:\n```lua\nlocal wezterm = require(\"wezterm\")\n\nlocal config = {}\nif wezterm.config_builder then\n\tconfig = wezterm.config_builder()\nend\n\nconfig.hide_tab_bar_if_only_one_tab = true\nconfig.window_close_confirmation = \"NeverPrompt\"\nconfig.audible_bell = \"Disabled\"\n\nconfig.window_decorations = \"RESIZE\"\nconfig.window_padding = {\n\ttop = 0,\n\tbottom = 0,\n}\n\n-- the below lines cause the behavior\nwezterm.on(\"gui-startup\", function(window)\n\tlocal tab, pane, window = wezterm.mux.spawn_window(cmd or {})\n\tlocal gui_window = window:gui_window()\n\tgui_window:perform_action(wezterm.action.ToggleFullScreen, pane)\nend)\n\nreturn config\n```\n\naerospace debug-windows and list-windows outut\n```sh\n$ aerospace list-windows --all\n185 | Firefox | Bug: wezterm windows are not recognized in beta-0.11 · Issue #237 · nikitabobko/AeroSpace\n\n$ aerospace debug-windows\nDebug windows session has started\n1. Focus the problematic window\n2. Run 'aerospace debug-windows' once again to finish the session and get the results\n\n$ aerospace debug-windows\ncom.github.wez.wezterm.window.1546 windowId: 1546\ncom.github.wez.wezterm.window.1546 workspace: nil\ncom.github.wez.wezterm.window.1546 treeNodeParent: AppBundle.MacosPopupWindowsContainer\ncom.github.wez.wezterm.window.1546 recognizedAsDialog: true\ncom.github.wez.wezterm.window.1546 AXTitle: Optional(tmux)\ncom.github.wez.wezterm.window.1546 AXRole: Optional(AXWindow)\ncom.github.wez.wezterm.window.1546 AXSubrole: Optional(AXUnknown)\ncom.github.wez.wezterm.window.1546 AXFocused: Optional(1)\ncom.github.wez.wezterm.window.1546 AXFullScreen: Optional(0)\ncom.github.wez.wezterm.window.1546 AXFrame: Optional(\u003cAXValue 0x600001b38f80\u003e {value = x:0.000000 y:0.000000 w:1710.000000 h:1112.000000 type = kAXValueCGRectType})\ncom.github.wez.wezterm.window.1546 AXPosition: Optional(\u003cAXValue 0x6000000672a0\u003e {value = x:0.000000 y:0.000000 type = kAXValueCGPointType})\ncom.github.wez.wezterm.window.1546 AXGrowArea: nil\ncom.github.wez.wezterm.window.1546 AXMinimizeButton: nil\ncom.github.wez.wezterm.window.1546 AXDocument: nil\ncom.github.wez.wezterm.window.1546 AXSections: [\ncom.github.wez.wezterm.window.1546 ]\ncom.github.wez.wezterm.window.1546 AXCloseButton: nil\ncom.github.wez.wezterm.window.1546 AXMain: Optional(1)\ncom.github.wez.wezterm.window.1546 AXActivationPoint: Optional(\u003cAXValue 0x60000009eb20\u003e {value = x:-1.000000 y:1113.000000 type = kAXValueCGPointType})\ncom.github.wez.wezterm.window.1546 AXFullScreenButton: nil\ncom.github.wez.wezterm.window.1546 AXProxy: nil\ncom.github.wez.wezterm.window.1546 AXDefaultButton: nil\ncom.github.wez.wezterm.window.1546 AXMinimized: Optional(0)\ncom.github.wez.wezterm.window.1546 AXParent: Optional(\u003cAXUIElement Application 0x60000009eb20\u003e {pid=25296})\ncom.github.wez.wezterm.window.1546 AXTitleUIElement: nil\ncom.github.wez.wezterm.window.1546 AXCancelButton: nil\ncom.github.wez.wezterm.window.1546 AXModal: Optional(0)\ncom.github.wez.wezterm.window.1546 AXZoomButton: nil\ncom.github.wez.wezterm.window.1546 AXSize: Optional(\u003cAXValue 0x600000032430\u003e {value = w:1710.000000 h:1112.000000 type = kAXValueCGSizeType})\ncom.github.wez.wezterm.window.1546 AXToolbarButton: nil\ncom.github.wez.wezterm.window.1546 Ignored: AXChildrenInNavigationOrder, AXChildren, AXRoleDescription\ncom.github.wez.wezterm             AXRole: Optional(AXApplication)\ncom.github.wez.wezterm             AXTitle: Optional(WezTerm)\ncom.github.wez.wezterm             AXFunctionRowTopLevelElements: [\ncom.github.wez.wezterm             ]\ncom.github.wez.wezterm             AXFrame: nil\ncom.github.wez.wezterm             AXFocusedUIElement: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXFrontmost: Optional(1)\ncom.github.wez.wezterm             AXExtrasMenuBar: nil\ncom.github.wez.wezterm             AXMainWindow: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXFocusedWindow: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXMenuBar: Optional(\u003cAXUIElement 0x600000067a50\u003e {pid=25296})\ncom.github.wez.wezterm             AXWindows: [\ncom.github.wez.wezterm                 AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             ]\ncom.github.wez.wezterm             AXSize: nil\ncom.github.wez.wezterm             AXPosition: nil\ncom.github.wez.wezterm             Ignored: AXChildren, AXChildrenInNavigationOrder, AXEnhancedUserInterface, AXPreferredLanguage, AXRoleDescription, AXHidden\n\n!!! DISCLAIMER !!!\n!!! 'debug-windows' command is not stable API. Please don't rely on the command existence and output format !!!\n!!! The only intended use case is to report bugs about incorrect windows handling !!!\n\nDebug session finished\n\n$ aerospace list-windows --all\n185 | Firefox | Bug: wezterm windows are not recognized in beta-0.11 · Issue #237 · nikitabobko/AeroSpace\n```","files":null},{"type":6,"timestamp":1726010686,"nonce":"k4uihzf2ZiD4UYhCFmlj9Iy8pGE=","metadata":{"github-id":"UCE_lALOJl1IZM6LnQ7fzk9j38I"},"target":"cd19f1f1c5ddce97b0a2a77b403231324ed1c69cbd66e174052286ce445532d6","message":"Same issue here @nikitabobko.\n\nIt happens when I use [action.ToggleFullScreen](https://wezfurlong.org/wezterm/config/lua/keyassignment/ToggleFullScreen.html) in wezterm.\n\nAerospace version:\n  aerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\n  AeroSpace.app server version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\n  \nWezterm config:\n```lua\nlocal wezterm = require(\"wezterm\")\n\nlocal config = {}\nif wezterm.config_builder then\n\tconfig = wezterm.config_builder()\nend\n\nconfig.hide_tab_bar_if_only_one_tab = true\nconfig.window_close_confirmation = \"NeverPrompt\"\nconfig.audible_bell = \"Disabled\"\n\nconfig.window_decorations = \"RESIZE\"\nconfig.window_padding = {\n\ttop = 0,\n\tbottom = 0,\n}\n\n-- the below lines cause the behavior\nwezterm.on(\"gui-startup\", function(window)\n\tlocal tab, pane, window = wezterm.mux.spawn_window(cmd or {})\n\tlocal gui_window = window:gui_window()\n\tgui_window:perform_action(wezterm.action.ToggleFullScreen, pane)\nend)\n\nreturn config\n```\n\naerospace debug-windows and list-windows outut\n```sh\n$ aerospace list-windows --all\n185 | Firefox | Bug: wezterm windows are not recognized in beta-0.11 · Issue #237 · nikitabobko/AeroSpace\n\n$ aerospace debug-windows\nDebug windows session has started\n1. Focus the problematic window\n2. Run 'aerospace debug-windows' once again to finish the session and get the results\n\n$ aerospace debug-windows\ncom.github.wez.wezterm.window.1546 windowId: 1546\ncom.github.wez.wezterm.window.1546 workspace: nil\ncom.github.wez.wezterm.window.1546 treeNodeParent: AppBundle.MacosPopupWindowsContainer\ncom.github.wez.wezterm.window.1546 recognizedAsDialog: true\ncom.github.wez.wezterm.window.1546 AXTitle: Optional(tmux)\ncom.github.wez.wezterm.window.1546 AXRole: Optional(AXWindow)\ncom.github.wez.wezterm.window.1546 AXSubrole: Optional(AXUnknown)\ncom.github.wez.wezterm.window.1546 AXFocused: Optional(1)\ncom.github.wez.wezterm.window.1546 AXFullScreen: Optional(0)\ncom.github.wez.wezterm.window.1546 AXFrame: Optional(\u003cAXValue 0x600001b38f80\u003e {value = x:0.000000 y:0.000000 w:1710.000000 h:1112.000000 type = kAXValueCGRectType})\ncom.github.wez.wezterm.window.1546 AXPosition: Optional(\u003cAXValue 0x6000000672a0\u003e {value = x:0.000000 y:0.000000 type = kAXValueCGPointType})\ncom.github.wez.wezterm.window.1546 AXGrowArea: nil\ncom.github.wez.wezterm.window.1546 AXMinimizeButton: nil\ncom.github.wez.wezterm.window.1546 AXDocument: nil\ncom.github.wez.wezterm.window.1546 AXSections: [\ncom.github.wez.wezterm.window.1546 ]\ncom.github.wez.wezterm.window.1546 AXCloseButton: nil\ncom.github.wez.wezterm.window.1546 AXMain: Optional(1)\ncom.github.wez.wezterm.window.1546 AXActivationPoint: Optional(\u003cAXValue 0x60000009eb20\u003e {value = x:-1.000000 y:1113.000000 type = kAXValueCGPointType})\ncom.github.wez.wezterm.window.1546 AXFullScreenButton: nil\ncom.github.wez.wezterm.window.1546 AXProxy: nil\ncom.github.wez.wezterm.window.1546 AXDefaultButton: nil\ncom.github.wez.wezterm.window.1546 AXMinimized: Optional(0)\ncom.github.wez.wezterm.window.1546 AXParent: Optional(\u003cAXUIElement Application 0x60000009eb20\u003e {pid=25296})\ncom.github.wez.wezterm.window.1546 AXTitleUIElement: nil\ncom.github.wez.wezterm.window.1546 AXCancelButton: nil\ncom.github.wez.wezterm.window.1546 AXModal: Optional(0)\ncom.github.wez.wezterm.window.1546 AXZoomButton: nil\ncom.github.wez.wezterm.window.1546 AXSize: Optional(\u003cAXValue 0x600000032430\u003e {value = w:1710.000000 h:1112.000000 type = kAXValueCGSizeType})\ncom.github.wez.wezterm.window.1546 AXToolbarButton: nil\ncom.github.wez.wezterm.window.1546 Ignored: AXChildrenInNavigationOrder, AXChildren, AXRoleDescription\ncom.github.wez.wezterm             AXRole: Optional(AXApplication)\ncom.github.wez.wezterm             AXTitle: Optional(WezTerm)\ncom.github.wez.wezterm             AXFunctionRowTopLevelElements: [\ncom.github.wez.wezterm             ]\ncom.github.wez.wezterm             AXFrame: nil\ncom.github.wez.wezterm             AXFocusedUIElement: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXFrontmost: Optional(1)\ncom.github.wez.wezterm             AXExtrasMenuBar: nil\ncom.github.wez.wezterm             AXMainWindow: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXFocusedWindow: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXMenuBar: Optional(\u003cAXUIElement 0x600000067a50\u003e {pid=25296})\ncom.github.wez.wezterm             AXWindows: [\ncom.github.wez.wezterm                 AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             ]\ncom.github.wez.wezterm             AXSize: nil\ncom.github.wez.wezterm             AXPosition: nil\ncom.github.wez.wezterm             Ignored: AXChildren, AXChildrenInNavigationOrder, AXEnhancedUserInterface, AXPreferredLanguage, AXRoleDescription, AXHidden\n\n!!! DISCLAIMER !!!\n!!! 'debug-windows' command is not stable API. Please don't rely on the command existence and output format !!!\n!!! The only intended use case is to report bugs about incorrect windows handling !!!\n\nDebug session finished\n\n$ aerospace list-windows --all\n185 | Firefox | Bug: wezterm windows are not recognized in beta-0.11 · Issue #237 · nikitabobko/AeroSpace\n```\n\nI think the problem lies in `com.github.wez.wezterm.window.1546 recognizedAsDialog: true` when this window isn't actually a dialog.","files":null},{"type":6,"timestamp":1726011319,"nonce":"67emWLlUu0iajww5ejehx82xnAU=","metadata":{"github-id":"UCE_lALOJl1IZM6LnQ7fzk9kBas"},"target":"cd19f1f1c5ddce97b0a2a77b403231324ed1c69cbd66e174052286ce445532d6","message":"Same issue here @nikitabobko.\n\nIt happens when I use [action.ToggleFullScreen](https://wezfurlong.org/wezterm/config/lua/keyassignment/ToggleFullScreen.html) in wezterm.\n\nAerospace version:\n  aerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\n  AeroSpace.app server version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\n  \nWezterm config:\n```lua\nlocal wezterm = require(\"wezterm\")\n\nlocal config = {}\nif wezterm.config_builder then\n\tconfig = wezterm.config_builder()\nend\n\nconfig.hide_tab_bar_if_only_one_tab = true\nconfig.window_close_confirmation = \"NeverPrompt\"\nconfig.audible_bell = \"Disabled\"\n\nconfig.window_decorations = \"RESIZE\"\nconfig.window_padding = {\n\ttop = 0,\n\tbottom = 0,\n}\n\n-- the below lines cause the behavior\nwezterm.on(\"gui-startup\", function(window)\n\tlocal tab, pane, window = wezterm.mux.spawn_window(cmd or {})\n\tlocal gui_window = window:gui_window()\n\tgui_window:perform_action(wezterm.action.ToggleFullScreen, pane)\nend)\n\nreturn config\n```\n\naerospace debug-windows and list-windows outut\n```sh\n$ aerospace list-windows --all\n185 | Firefox | Bug: wezterm windows are not recognized in beta-0.11 · Issue #237 · nikitabobko/AeroSpace\n\n$ aerospace debug-windows\nDebug windows session has started\n1. Focus the problematic window\n2. Run 'aerospace debug-windows' once again to finish the session and get the results\n\n$ aerospace debug-windows\ncom.github.wez.wezterm.window.1546 windowId: 1546\ncom.github.wez.wezterm.window.1546 workspace: nil\ncom.github.wez.wezterm.window.1546 treeNodeParent: AppBundle.MacosPopupWindowsContainer\ncom.github.wez.wezterm.window.1546 recognizedAsDialog: true\ncom.github.wez.wezterm.window.1546 AXTitle: Optional(tmux)\ncom.github.wez.wezterm.window.1546 AXRole: Optional(AXWindow)\ncom.github.wez.wezterm.window.1546 AXSubrole: Optional(AXUnknown)\ncom.github.wez.wezterm.window.1546 AXFocused: Optional(1)\ncom.github.wez.wezterm.window.1546 AXFullScreen: Optional(0)\ncom.github.wez.wezterm.window.1546 AXFrame: Optional(\u003cAXValue 0x600001b38f80\u003e {value = x:0.000000 y:0.000000 w:1710.000000 h:1112.000000 type = kAXValueCGRectType})\ncom.github.wez.wezterm.window.1546 AXPosition: Optional(\u003cAXValue 0x6000000672a0\u003e {value = x:0.000000 y:0.000000 type = kAXValueCGPointType})\ncom.github.wez.wezterm.window.1546 AXGrowArea: nil\ncom.github.wez.wezterm.window.1546 AXMinimizeButton: nil\ncom.github.wez.wezterm.window.1546 AXDocument: nil\ncom.github.wez.wezterm.window.1546 AXSections: [\ncom.github.wez.wezterm.window.1546 ]\ncom.github.wez.wezterm.window.1546 AXCloseButton: nil\ncom.github.wez.wezterm.window.1546 AXMain: Optional(1)\ncom.github.wez.wezterm.window.1546 AXActivationPoint: Optional(\u003cAXValue 0x60000009eb20\u003e {value = x:-1.000000 y:1113.000000 type = kAXValueCGPointType})\ncom.github.wez.wezterm.window.1546 AXFullScreenButton: nil\ncom.github.wez.wezterm.window.1546 AXProxy: nil\ncom.github.wez.wezterm.window.1546 AXDefaultButton: nil\ncom.github.wez.wezterm.window.1546 AXMinimized: Optional(0)\ncom.github.wez.wezterm.window.1546 AXParent: Optional(\u003cAXUIElement Application 0x60000009eb20\u003e {pid=25296})\ncom.github.wez.wezterm.window.1546 AXTitleUIElement: nil\ncom.github.wez.wezterm.window.1546 AXCancelButton: nil\ncom.github.wez.wezterm.window.1546 AXModal: Optional(0)\ncom.github.wez.wezterm.window.1546 AXZoomButton: nil\ncom.github.wez.wezterm.window.1546 AXSize: Optional(\u003cAXValue 0x600000032430\u003e {value = w:1710.000000 h:1112.000000 type = kAXValueCGSizeType})\ncom.github.wez.wezterm.window.1546 AXToolbarButton: nil\ncom.github.wez.wezterm.window.1546 Ignored: AXChildrenInNavigationOrder, AXChildren, AXRoleDescription\ncom.github.wez.wezterm             AXRole: Optional(AXApplication)\ncom.github.wez.wezterm             AXTitle: Optional(WezTerm)\ncom.github.wez.wezterm             AXFunctionRowTopLevelElements: [\ncom.github.wez.wezterm             ]\ncom.github.wez.wezterm             AXFrame: nil\ncom.github.wez.wezterm             AXFocusedUIElement: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXFrontmost: Optional(1)\ncom.github.wez.wezterm             AXExtrasMenuBar: nil\ncom.github.wez.wezterm             AXMainWindow: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXFocusedWindow: AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             AXMenuBar: Optional(\u003cAXUIElement 0x600000067a50\u003e {pid=25296})\ncom.github.wez.wezterm             AXWindows: [\ncom.github.wez.wezterm                 AXUIElement(windowId=1546, title=\"tmux\", role=\"AXWindow\", subrole=\"AXUnknown\")\ncom.github.wez.wezterm             ]\ncom.github.wez.wezterm             AXSize: nil\ncom.github.wez.wezterm             AXPosition: nil\ncom.github.wez.wezterm             Ignored: AXChildren, AXChildrenInNavigationOrder, AXEnhancedUserInterface, AXPreferredLanguage, AXRoleDescription, AXHidden\n\n!!! DISCLAIMER !!!\n!!! 'debug-windows' command is not stable API. Please don't rely on the command existence and output format !!!\n!!! The only intended use case is to report bugs about incorrect windows handling !!!\n\nDebug session finished\n\n$ aerospace list-windows --all\n185 | Firefox | Bug: wezterm windows are not recognized in beta-0.11 · Issue #237 · nikitabobko/AeroSpace\n```","files":null}]}