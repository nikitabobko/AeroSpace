{"author":{"id":"9006205d7e210990dd597a6791ceb19005a9c2879cb6e514c850aedc184b31c2"},"ops":[{"type":3,"timestamp":1726844333,"nonce":"f1l3fjA372Z36y7aMgrt9JxrqOI=","metadata":{"github-id":"IC_kwDOJl1IZM6M5sH_","github-url":"https://github.com/nikitabobko/AeroSpace/issues/497#issuecomment-2363933183"},"message":"Thanks for the suggestion, I gave it a try - It does seem to help marginally, but nothing significant.\n\nThat particular screenshot I shared does show it happening during the call to disableAnimations, but some of the other long running stack traces during that hang were various other interactions with the accessibility APIs.\n\nI've done a bit more research in the time since I spammed this thread, and I'm still of the mind that it's because these apps manage their own event loops and constantly block the main thread - although this is based on nothing concrete, just bits and pieces I've read or experimented with.\n\nIf this does happen to be the case, then I would say it's a not AeroSpace responsibility to work around. But at the very least it would be good to come up with a way to mitigate this blocking AeroSpace from effectively managing non-problematic apps.\n\nSome suggestions for this are:\n- Using background threads to dispatch AX requests and avoid blocking the main thread, I plan to do some experiments with this particular approach.\n- Implement some timeout behavior\n- A config option to specify app bundles that should be completely ignored by AeroSpace (Although this wouldn't fix the slowdown on calls that aren't app specific, such as `NSWorkspace.shared.runningAppications`, however they're called less frequently so would still be an improvement)","files":null},{"type":3,"timestamp":1726845781,"nonce":"3R3mEFTkdg7mlDqopgOTRawNFKs=","metadata":{"github-id":"IC_kwDOJl1IZM6M54AQ","github-url":"https://github.com/nikitabobko/AeroSpace/issues/497#issuecomment-2363981840"},"message":"For what it's worth, here are some discussions around adding support for improving accessibility support for winit (used by bevy to create a window) and SDL (used by love2d to create a window). Although the discussions being held are a bit beyond my understanding, so might not be entirely relevant.\n\nhttps://github.com/rust-windowing/winit/issues/2120\n\nhttps://github.com/libsdl-org/SDL/issues/9351","files":null}]}