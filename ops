{"author":{"id":"4cd5c1052fa5d8319cc2cae41adf8d0909d7ec1a59d62a6fe4f0f533b502e203"},"ops":[{"type":1,"timestamp":1706497354,"nonce":"Sw7VptHSCUiGEFm1In3Mmuvki2E=","metadata":{"github-id":"I_kwDOJl1IZM59cMRw","github-url":"https://github.com/nikitabobko/AeroSpace/issues/142","origin":"github"},"title":"[Bug] Cannot focus on a window after throwing it from another monitor","message":"## Description\nThis bug happens when move a window from workspace on one monitor to another workspace on another monitor.\n\nConsidering the following setup: we have monitors M1 and M2, and assigned workspace S1 to M1, S2 to M2. When we have only one window W1 on S1, the indicator on status bar shows the currently focused monitor is M1. When we use keyboard shortcut to move W1 to S2, now we have no window on S1 in M1, and W1 on S2 in M2. But the currently focused monitor is still M1, even after I clicked W1 for multiple times. Only if we drag the titlebar of W1 can the focus change correctly.\n\n## Reproduction\n\nI have demonstrated one setup above. And:\n- Initially W1 on S1 and W2 on S2, throwing W1 to S2; now no window on M1 and W1, W2 on S2 in M2. I cannot focus on W1, but can focus on W2.\n- Initially W1, W3 on S1 and W2 on S2, throwing W1 to S2; now W3 on M1 and W1, W2 on S2 in M2. I can focus on W1.\n\n## Possible Reasons\nI guess something is not handled correctly with corner case of no window remaining in a workspace. And maybe the window-monitor mapping? Also, I did not test the scenario when S1 and S2 has no force assignment.\n\n## Version\nTested on 0.8.2-beta","files":null}]}