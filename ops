{"author":{"id":"6c8704ec3095b493072ee377a41483610139c6d63ebde10168232335df114838"},"ops":[{"type":1,"timestamp":1728420627,"nonce":"6WfyDwfVUi2TlE37F5kRsPl5UK0=","metadata":{"github-id":"I_kwDOJl1IZM6ZbvLV","github-url":"https://github.com/nikitabobko/AeroSpace/issues/576","origin":"github"},"title":"Making sure macOS's \"monitor focus\" agrees with `focus-monitor` in the case of empty monitors","message":"`focus-monitor` is great (Aerospace has really come a long way!); but at the moment, it's got one glaring flow issue.\n\nWhen all monitors have at least one window, cycling through them with a `focus-monitor left` command or similar _also_ drags the macOS \"focus\" along (that is, the top menubar is faded out on the other, non-focused displays; and \u003ckbd\u003e⌘\u003c/kbd\u003e\u003ckbd\u003e␣\u003c/kbd\u003e pops up a search window on the correct monitor.)\n\nHowever, if there's a monitor with _no_ windows on it, then when you `focus-monitor` onto that empty monitor, there's no integration with the system. (The wrong monitor's menubar is highlighted, \u003ckbd\u003e⌘\u003c/kbd\u003e\u003ckbd\u003e␣\u003c/kbd\u003e will open windows on the wrong monitor, etc.)\n\nThis is slightly worse when [`borders`](https://github.com/FelixKratz/JankyBorders) or similar is installed - now, the 'active window' indicator is no longer doubling as a \"what display/container AeroSpace is going to operate on\" indicator.\n\nOne janky fix, is to rewrite the default `on-focused-monitor-changed = ['move-mouse monitor-lazy-center']` hook to also …\n1. determine if there's any windows on the newly-focused monitor and\n2. then, if not, execute a mouse-click to click on the desktop and activate that monitor from macOS's point of view.\n\nThus, I suppose, at least one potential \"fix\" for this might be to make that behaviour the default (hopefully a lot) faster than indirecting through a shell, especially when tabbing through monitors quickly.\n\n## Checklist\n\n\u003c!-- Please fill in the checklist. You must have strong reasons not to do so --\u003e\n\n- [x] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - `focus-monitor empty`\n  - `\"focus-monitor\"`\n- [x] I've read the guide https://nikitabobko.github.io/AeroSpace/guide\n- [x] I've searched in the documentation (https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands)\n\n```\n❯ aerospace --version         \naerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\nAeroSpace.app server version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\n```","files":null}]}