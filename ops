{"author":{"id":"2d08e4816aca0a07db9878f126b0e7f6d6f1362eb9bc4804be6b33ff8d0a19ec"},"ops":[{"type":6,"timestamp":1716805507,"nonce":"4VK1+GYv3ugVJvT9x2I9p94IRGE=","metadata":{"github-id":"UCE_lAHOJl1IZM583ip6zlwA75k"},"target":"775ee4ce64870482b5973b3cbb5276ef08785b0e38afa120a563c496f13a82dd","message":"Hi!\nThanks for all the new features.\n\nAfter updating to 0.8.0, I had AeroSpace disabled before I fixed the config file and I noticed that when AerosSpace is enabled there is a noticeable delay (I have no measurements, but it feels like hundreds of milliseconds at least) when either moving focus or changing workspaces. This also happens when I focus windows via `cmd+tab`, doing this without AeroSpace is instantaneous.\n\nI know it's still beta, but I wanted to ask:\n\n- Do other people experience this delay or am I missing some configuration\n- Is this a performance issue in AeroSpace or some inherent limitation of Accessibility API?\n- Is there any way to collect logs/diagnostics to find out more?\n\nI'm on M1 Pro + Sonoma.\n \n---\n\nI'm not trying to bash AeroSpace - the feature set is great and I use it as a daily driver, but the MacOS felt laggy for a while and now I found out it's only when using AeroSpace and I want to help to make it better.\n\n---\n\nNote by @nikitabobko\n\nRelated: #242","files":null},{"type":3,"timestamp":1706006354,"nonce":"eRQW8n54AM+wWLba8rPCyI1WLCQ=","metadata":{"github-id":"IC_kwDOJl1IZM5xl6Pw","github-url":"https://github.com/nikitabobko/AeroSpace/issues/131#issuecomment-1905763312"},"message":"**(1)** How many windows do you have opened? (you can use `aerospace list-windows --all | wc -l`) \n**(2)** Does the AeroSpace still behave poorly if you restart the app?\n\nI saw on my colleague's machine that AeroSpace may behave poorly if there are unreasonably many windows opened (maybe 100 or even more, we didn't count)\n\nI tried to open 20 windows and it performs well, I don't see any delay compared to when AeroSpace is not running\n\n\u003e Do other people experience this delay or am I missing some configuration\n\nI can't see any delay on my machine (M1 Pro + Sonoma). I normally don't have more than 10 windows opened\n\n\u003e or some inherent limitation of Accessibility API?\n\nI heard several times that Accessibility API is slow. Though, I can't confirm it yet. The only real slowness of Accessibility API I noticed is when some apps block their UI thread _in some special way_ (cause I couldn't reproduce the slowness when I wrote a small app that displays a simple window and blocks the UI thread).\n\nFor example, Spotify and Firefox sometimes block the UI thread _in a special way_ for several seconds when I try to quit (`cmd+q`) either of them, Accessibility API is blocked by these apps until they finally quit. I've not yet debugged this problem. \n\n**(3)** Some of the apps that you are running may have similar problems, so you can try to quit apps one by one to see when AeroSpace delay goes away","files":null},{"type":6,"timestamp":1706006417,"nonce":"8/ClvfPpcdrRv0rKh2GswN6G2XQ=","metadata":{"github-id":"UCE_lALOJl1IZM5xl6Pwzj6eoxc"},"target":"e9d4bc331c08feee1c357430990ac6ef2fc94db10f2c42d415f3a26be2636f24","message":"**(1)** How many windows do you have opened? (you can use `aerospace list-windows --all | wc -l`) \n**(2)** Does the AeroSpace still behave poorly if you restart the app?\n\nI saw on my colleague's machine that AeroSpace may behave poorly if there are unreasonably many windows opened (maybe 100 or even more, we didn't count)\n\nI tried to open 20 windows and it performs well, I don't see any delay compared to when AeroSpace is not running\n\n\u003e Do other people experience this delay or am I missing some configuration\n\nI can't see any delay on my machine (M1 Pro + Sonoma). I normally don't have more than 10 windows opened\n\n\u003e or some inherent limitation of Accessibility API?\n\nI heard several times that Accessibility API is slow. Though, I can't confirm it yet. The only real slowness of Accessibility API I noticed is when some apps block their UI thread _in some special way_ (I couldn't reproduce the slowness when I wrote a small app that displays a simple window and blocks the UI thread).\n\nFor example, Spotify and Firefox sometimes block the UI thread _in a special way_ for several seconds when I try to quit (`cmd+q`) either of them, Accessibility API is blocked by these apps until they finally quit. I've not yet debugged this problem. \n\n**(3)** Some of the apps that you are running may have similar problems, so you can try to quit apps one by one to see when AeroSpace delay goes away","files":null},{"type":6,"timestamp":1706006500,"nonce":"BJmoZcWngsic5AwdB68TzOB0lko=","metadata":{"github-id":"UCE_lALOJl1IZM5xl6Pwzj6eqOU"},"target":"e9d4bc331c08feee1c357430990ac6ef2fc94db10f2c42d415f3a26be2636f24","message":"**(1)** How many windows do you have opened? (you can use `aerospace list-windows --all | wc -l`) \n**(2)** Does the AeroSpace still behave poorly if you restart the app?\n\nI saw on my colleague's machine that AeroSpace may behave poorly if there are unreasonably many windows opened (maybe 100 or even more, we didn't count)\n\nI tried to open 20 windows and it performs well, I don't see any delay compared to when AeroSpace is not running\n\n\u003e Do other people experience this delay or am I missing some configuration\n\nI can't see any delay on my machine (M1 Pro + Sonoma). I normally don't have more than 10 windows opened\n\n\u003e or some inherent limitation of Accessibility API?\n\nI heard several times that Accessibility API is slow. Though, I can't confirm it yet. The only real slowness of Accessibility API I noticed is when some apps block their UI thread _in some special way_ (I couldn't reproduce the slowness when I wrote a small app that displays a simple window and blocks the UI thread).\n\nFor example, Spotify and Firefox sometimes block the UI thread _in a special way_ for several seconds when I try to quit (`cmd+q`) either of them, Accessibility API is blocked by these apps until they finally quit. I've not yet debugged this problem. IntelliJ IDEA sometimes blocks the UI thread in a way that blocks accessibility API (I don't know the reproducer yet) \n\n**(3)** Some of the apps that you are running may have similar problems, so you can try to quit apps one by one to see when AeroSpace delay goes away","files":null},{"type":6,"timestamp":1706006585,"nonce":"QdpNtYmXUBK1M+41cTpylsi4RJU=","metadata":{"github-id":"UCE_lALOJl1IZM5xl6Pwzj6ertg"},"target":"e9d4bc331c08feee1c357430990ac6ef2fc94db10f2c42d415f3a26be2636f24","message":"**(1)** How many windows do you have opened? (you can use `aerospace list-windows --all | wc -l`) \n**(2)** Does the AeroSpace still behave poorly if you restart the app?\n\nI saw on my colleague's machine that AeroSpace may behave poorly if there are unreasonably many windows opened (maybe 100 or even more, we didn't count)\n\nI tried to open 20 windows and it performs well, I don't see any delay compared to when AeroSpace is not running\n\n\u003e Do other people experience this delay or am I missing some configuration\n\nI can't see any delay on my machine (M1 Pro + Sonoma). I normally don't have more than 10 windows opened\n\n\u003e or some inherent limitation of Accessibility API?\n\nI heard several times that Accessibility API is slow. Though, I can't confirm it yet. The only slowness of Accessibility API I noticed is when some apps block their UI thread _in some special way_ (I couldn't reproduce the slowness when I wrote a small app that displays a simple window and blocks the UI thread).\n\nFor example, Spotify and Firefox sometimes block the UI thread _in a special way_ for several seconds when I try to quit (`cmd+q`) either of them, Accessibility API is blocked by these apps until they finally quit. I've not yet debugged this problem. IntelliJ IDEA sometimes blocks the UI thread in a way that blocks accessibility API (I don't know the reproducer yet) \n\n**(3)** Some of the apps that you are running may have similar problems, so you can try to quit apps one by one to see when AeroSpace delay goes away","files":null}]}