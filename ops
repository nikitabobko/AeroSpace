{"author":{"id":"4746cb1bdd22836504e0b46489e870d354b622b1a11b2fcf5ba04c8879c75479"},"ops":[{"type":3,"timestamp":1703933932,"nonce":"aPcSaSIh3ODx2ESfdU8ytidss70=","metadata":{"github-id":"IC_kwDOJl1IZM5vnCh5","github-url":"https://github.com/nikitabobko/AeroSpace/issues/44#issuecomment-1872504953"},"message":"I updated my sketchybar config based on the new (as of right now unreleased) `list-workspaces` command. Maybe this saves somebody a bit of work. it is limited by the event system. obviously `space_change` only applies to mission control spaces not aerospace workspaces, but for my usecase the `front_app_switched` works well enough. for some reason there is a small delay when changing spaces though, haven't debugged that yet.\n\nsketchybarrc:\n\n```bash\nfor sid in $(aerospace list-workspaces); do\n  color=\"$INACTIVE\"\n  sketchybar --add item space.$sid left \\\n    --subscribe space.$sid front_app_switched \\\n    --subscribe space.$sid space_change \\\n    --set space.$sid \\\n    icon=\"􀀁\" \\\n    background.drawing=off \\\n    label.drawing=off \\\n    icon.color=\"$color\" \\\n    icon.font.size=12 \\\n    icon.align=center \\\n    padding_left=0 \\\n    padding_right=6 \\\n    click_script=\"aerospace workspace $sid\" \\\n    script=\"$PLUGIN_DIR/aerospace.sh $sid\"\ndone\n```\n\nplugins/aerospace.sh:\n\n```bash\n#!/usr/bin/env bash\n\nSID=$1\nFOCUSED=$(aerospace list-workspaces --focused)\nbg=\"0xff585b70\"\nif [ \"$SID\" = \"$FOCUSED\" ]; then\n  bg=\"0xffb4befe\"\nfi\nsketchybar \\\n  --animate sin 10 \\\n  --set $NAME \\\n  icon.color=\"$bg\"\n```","files":null},{"type":6,"timestamp":1703934017,"nonce":"CqxAY7x1fzUI9hGYdFvIbyXZwNI=","metadata":{"github-id":"UCE_lALOJl1IZM5vnCh5zj1PnrA"},"target":"b4d3d89c3db5bd5876fe83214982afb73c57a938e81ea0796f338ad1d3e38a6b","message":"I updated my sketchybar config based on the new (as of right now unreleased) `list-workspaces` command. Maybe this saves somebody a bit of work. it is limited by the event system. obviously `space_change` only applies to mission control spaces not aerospace workspaces, but for my usecase the `front_app_switched` works well enough. for some reason there is a small delay when changing spaces though, haven't debugged that yet.\n\nsketchybarrc:\n\n```bash\nfor sid in $(aerospace list-workspaces); do\n  color=\"$INACTIVE\"\n  sketchybar --add item space.$sid left \\\n    --subscribe space.$sid front_app_switched \\\n    --subscribe space.$sid space_change \\\n    --set space.$sid \\\n    icon=\"􀀁\" \\\n    background.drawing=off \\\n    label.drawing=off \\\n    icon.color=\"$color\" \\\n    icon.font.size=12 \\\n    icon.align=center \\\n    padding_left=0 \\\n    padding_right=6 \\\n    click_script=\"aerospace workspace $sid\" \\\n    script=\"$PLUGIN_DIR/aerospace.sh $sid\"\ndone\n```\n\nplugins/aerospace.sh:\n\n```bash\n#!/usr/bin/env bash\n\nSID=$1\nFOCUSED=$(aerospace list-workspaces --focused)\nbg=\"0xff585b70\"\nif [ \"$SID\" = \"$FOCUSED\" ]; then\n  bg=\"0xffb4befe\"\nfi\nsketchybar \\\n  --animate sin 10 \\\n  --set $NAME \\\n  icon.color=\"$bg\"\n```\n\nmy bar:\n\n\u003cimg width=\"2304\" alt=\"image\" src=\"https://github.com/nikitabobko/AeroSpace/assets/50196894/ac84717e-62db-4d0f-ac86-d8621594268e\"\u003e","files":null}]}