{"author":{"id":"ce6db63116a19753f769cce73b0e6f303cfd6d6e6002df6235a17f0dca508558"},"ops":[{"type":1,"timestamp":1723213070,"nonce":"0FSD3z5e8KQ5jqJ6Rl+Wo5PLB60=","metadata":{"github-id":"I_kwDOJl1IZM6Sgpn0","github-url":"https://github.com/nikitabobko/AeroSpace/issues/368","origin":"github"},"title":"Introduce max-width for nodes","message":"Having windows go full-width on large monitors and ultrawides is jarring and undesired. There are a few tickets already on this, but I'd love to contribute my favorite way to solve this. And if the @nikitabobko is willing to merge this, I'm happy to offer a small bounty for the implementation, if that's desired. \n\nIntroduce `default-node-max-width: 1280`. When set, this gives each new node a maximum width when it is created. On a screen that cannot be filled fully due to this constraint, a new window/node is centered with margins to the edges of the screen. I think would be an elegant improvement for the people that are bothered by this, and should introduce minimal amount of additional complexity to the system. Certainly avoids nasty late night, dark mode for hours, accidentally-flashbang-yourself-with-google.com on a 1800nits display problem which inspired this ticket ðŸ˜….\n\nSome additional considerations:\n- Floating windows are unaffected by this\n- Nodes that are not connected to the root-container are unaffected by this\n- We introduce a new layout command `layout tiling-fullwidth` that allows for hotkeys that disable the constraint. Example: `ctrl-alt-cmd-space = ['layout tiling-fullwidth tiling']`. Windows in this tiling-fullwidth state just ignore the maxwidth attribute\n- The resize function should increase the node's maxwidth if its being resized beyond the current maxwidth's size so a node at 1200px width that gets a 'resize smart +200' sets its internal maxwidth to the new size. This means that moving the node later to another screen retains the session desired maxwidth\n- resize should learn to set maxwidth for nodes specifically like `resize max-width 800`, this enables setting some types of windows to be constrained by default like so:\n-\n  ```\n  [[on-window-detected]]\n  if.app-id = 'com.googlecode.iterm2'\n  run = ['layout tiling', 'resize max-width 800']\n  ```\n  \n I *think* that this is a horizontal only thing. Maybe there should be a vertical version of this as well, but I have a hard time coming up with a great use-case for this, so maybe best to just skip it.","files":null}]}