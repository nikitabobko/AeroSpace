{"author":{"id":"e12d8851e80a9772edcd20362e23bff27185c26f66011e2d26087df336e4e470"},"ops":[{"type":6,"timestamp":1723727643,"nonce":"VjpzAPnYfb7c5/jlzRy6KArfIb4=","metadata":{"github-id":"UCE_lAHOJl1IZM6TGyyqzmI20L8"},"target":"80a77954903758d9b1e23c4843ca835ce0a51c943b98afae2656d58bc06691d1","message":"![image](https://github.com/user-attachments/assets/515d90fe-2605-4b95-8e47-f39e13d5cdfd)\n\nCurrently I have sketchybar setup as described in aerospace docs, it works but when i first start computer it doesn't show workspaces for some reason, i have to manually `sketchybar --reload` to get it working\n\n## Checklist\n\n\u003c!-- Please fill in the checklist. You must have strong reasons not to do so --\u003e\n\n- [X ] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - sketchybar\n- [ X] I've read the documentation https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands\n- [X ] I've searched in the documentation. My search queries were:\n  - sketchybar\n\n```\naerospace CLI client version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\nAeroSpace.app server version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\n```\n\n\nHere is my relevant aerospace config portion:\n```\n# You can use it to add commands that run after AeroSpace startup.\n# 'after-startup-command' is run after 'after-login-command'\n# Available commands : https://nikitabobko.github.io/AeroSpace/commands\nafter-startup-command = ['exec-and-forget sketchybar']\n\n# Notify Sketchybar about workspace change\nexec-on-workspace-change = ['/bin/bash', '-c',\n    'sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE'\n]\n\n# Start AeroSpace at login\nstart-at-login = true\n```\n\nHere is relevant sketchybar config:\n```\nsketchybar --add event aerospace_workspace_change\nfor sid in $(aerospace list-workspaces --all); do\n    sketchybar --add item space.$sid left \\\n        --subscribe space.$sid aerospace_workspace_change \\\n        --set space.$sid \\\n        label.color=0xff04d1f9 \\\n        label.font.size=18.0 \\\n        background.corner_radius=5 \\\n        background.drawing=off \\\n        label=\"$sid\" \\\n        click_script=\"aerospace workspace $sid\" \\\n        script=\"$CONFIG_DIR/plugins/aerospace.sh $sid\"\ndone\n```\n\nand finally my relevant aerospace sketchybar script:\n```\n#!/usr/bin/env bash\n\nif [ \"$1\" = \"1\" ]; then\n  sketchybar --set $NAME label=\" \"\nelif [ \"$1\" = \"2\" ]; then\n  sketchybar --set $NAME label=\" \"\nelif [ \"$1\" = \"3\" ]; then\n  sketchybar --set $NAME label=\"󰇮 \"\nelif [ \"$1\" = \"4\" ]; then\n  sketchybar --set $NAME label=\" \"\nelif [ \"$1\" = \"s\" ]; then\n  sketchybar --set $NAME label=\" \"\nfi\n\nif [ \"$1\" = \"$FOCUSED_WORKSPACE\" ]; then\n  sketchybar --set $NAME label.color=0xff37f499\nelse\n  sketchybar --set $NAME label.color=0xff04d1f9\nfi\n\n```","files":null},{"type":6,"timestamp":1723727683,"nonce":"3GdtS31dfGtMF/afkS+yQlLY6oY=","metadata":{"github-id":"UCE_lAHOJl1IZM6TGyyqzmI21F4"},"target":"80a77954903758d9b1e23c4843ca835ce0a51c943b98afae2656d58bc06691d1","message":"![image](https://github.com/user-attachments/assets/515d90fe-2605-4b95-8e47-f39e13d5cdfd)\n\nCurrently I have sketchybar setup as described in aerospace docs, it works but when i first start computer it doesn't show workspaces for some reason, i have to manually `sketchybar --reload` to get it working\n\n## Checklist\n\n\u003c!-- Please fill in the checklist. You must have strong reasons not to do so --\u003e\n\n- [X ] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - sketchybar\n- [ X] I've read the documentation https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands\n- [X ] I've searched in the documentation. My search queries were:\n  - sketchybar\n\n```\naerospace CLI client version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\nAeroSpace.app server version: 0.14.1-Beta 5861e85b65cb7dc914a0a68027c56e2bc90510fd\n```\n\n\nHere is my relevant aerospace config portion:\n```\n# You can use it to add commands that run after AeroSpace startup.\n# 'after-startup-command' is run after 'after-login-command'\n# Available commands : https://nikitabobko.github.io/AeroSpace/commands\nafter-startup-command = ['exec-and-forget sketchybar']\n\n# Notify Sketchybar about workspace change\nexec-on-workspace-change = ['/bin/bash', '-c',\n    'sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE'\n]\n\n# Start AeroSpace at login\nstart-at-login = true\n```\n\nHere is relevant sketchybar config:\n```\nsketchybar --add event aerospace_workspace_change\nfor sid in $(aerospace list-workspaces --all); do\n    sketchybar --add item space.$sid left \\\n        --subscribe space.$sid aerospace_workspace_change \\\n        --set space.$sid \\\n        label.color=0xff04d1f9 \\\n        label.font.size=18.0 \\\n        background.corner_radius=5 \\\n        background.drawing=off \\\n        label=\"$sid\" \\\n        click_script=\"aerospace workspace $sid\" \\\n        script=\"$CONFIG_DIR/plugins/aerospace.sh $sid\"\ndone\n```\n\nand finally my relevant aerospace sketchybar script:\n```\n#!/usr/bin/env bash\n\nif [ \"$1\" = \"1\" ]; then\n  sketchybar --set $NAME label=\" \"\nelif [ \"$1\" = \"2\" ]; then\n  sketchybar --set $NAME label=\" \"\nelif [ \"$1\" = \"3\" ]; then\n  sketchybar --set $NAME label=\"󰇮 \"\nelif [ \"$1\" = \"4\" ]; then\n  sketchybar --set $NAME label=\" \"\nelif [ \"$1\" = \"s\" ]; then\n  sketchybar --set $NAME label=\" \"\nfi\n\nif [ \"$1\" = \"$FOCUSED_WORKSPACE\" ]; then\n  sketchybar --set $NAME label.color=0xff37f499\nelse\n  sketchybar --set $NAME label.color=0xff04d1f9\nfi\n\n```\n\n\nAfter manually calling `sketchybar --reload` :\n\n![image](https://github.com/user-attachments/assets/5ea645e6-4b1c-4a50-90c1-46e778f602a0)","files":null}]}