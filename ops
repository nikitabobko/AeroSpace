{"author":{"id":"a6423272821b32908309394239af40ff52190690ec0955042a87219b77852dbf"},"ops":[{"type":1,"timestamp":1729631379,"nonce":"Hod/ez+YjjsYOSxRdtmHvYYiGMY=","metadata":{"github-id":"I_kwDOJl1IZM6bXFFI","github-url":"https://github.com/nikitabobko/AeroSpace/issues/609","origin":"github"},"title":"How to programmatically create and manage nodes?","message":"**YOUR TEXT**\n\nI'm trying to use my config file to drive actions that Aerospace should run on-startup. I have 3 monitors and I want to move a workspace to each monitor. Then I want Workspace 1 (on an ultrawide) to have 2 nodes, 1 horizontally tiled and 1 vertically tiled. \n\nWorkspaces 2 and 3 have 1 node.\n\nI want the config to use `exec-and-forget` to launch specific apps and place them in the workspaces. **This is where I'm having my problem.**\n\nI'm trying to user `after-startup-command`: \n\n```\nafter-startup-command = [\n    \"move-workspace-to-monitor --workspace 3 --wrap-around next\",\n    \"move-workspace-to-monitor --workspace 2 --wrap-around prev\",\n    \n\n    \"workspace 1\",\n    \"layout horizontal\",\n    \"exec-and-forget open -a '\u003cbrowser app\u003e'\",  \n    \"exec-and-forget open -a '\u003cbrowser app\u003e' --args --new-window\", \n    \"exec-and-forget open -a '\u003cbrowser app\u003e' --args --new-window\",  \n    \"exec-and-forget open -a '\u003csome app\u003e'\", \n    \"split vertical\",  \n    \"exec-and-forget open -a '\u003csome app\u003e'\",  \n    \"exec-and-forget open -a '\u003csome app\u003e'\",  \n\n\n    \"workspace 2\",\n    \"layout vertical\",\n    \"exec-and-forget open -a '\u003csome app\u003e'\",\n    \"exec-and-forget open -a '\u003csome app\u003e'\",\n\n\n    \"workspace 3\",\n    \"layout horizontal\",\n    \"exec-and-forget open -a '\u003csome app\u003e'\"\n]\n```\n\nBut this isn't working. I looked at using `exec-on-workspace-change` but that would require Aerospace exposing an api for node management so a foreign bash script could leverage it. I don't believe that exists.\n\n## Checklist\n\n\u003c!-- Please fill in the checklist. You must have strong reasons not to do so --\u003e\n\n- [ ] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - [query 1](https://github.com/nikitabobko/AeroSpace/issues?q=programatically+manage+nodes)\n  - [query 2](https://github.com/nikitabobko/AeroSpace/issues?q=manage+nodes)\n  - [query 3](https://github.com/nikitabobko/AeroSpace/issues?q=node+api)\n  - [query 4](https://github.com/nikitabobko/AeroSpace/issues?q=create+nodes+in+config)\n\n- [ ] I've read the guide https://nikitabobko.github.io/AeroSpace/guide\n- [ ] I've searched in the documentation (https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands). My search queries were:\n  - programmatically manage nodes\n  - assign window to node\n  - node api\n```\n$ aerospace --version\naerospace CLI client version: 0.15.2-Beta b6cf82771f245ab7349a93baf8709e171537ff58\nAeroSpace.app server version: 0.15.2-Beta b6cf82771f245ab7349a93baf8709e171537ff58\n```","files":null}]}