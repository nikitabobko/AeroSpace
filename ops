{"author":{"id":"2d08e4816aca0a07db9878f126b0e7f6d6f1362eb9bc4804be6b33ff8d0a19ec"},"ops":[{"type":1,"timestamp":1704561476,"nonce":"iTaSCQsIMCNLEIAGtfSFnzcOnWw=","metadata":{"github-id":"I_kwDOJl1IZM57TlZZ","github-url":"https://github.com/nikitabobko/AeroSpace/issues/104","origin":"github"},"title":"Optimize CLI commands performance","message":"`aerospace list-workspaces` is slow. Well, `aerospace list-workspaces` is ~100ms which by itself is fine.\n\n**(1)** But 100ms is the result when AeroSpace is idle. Currently AeroSpace performs all operations in one thread. Considering that Ax calls are blocking, 100ms becomes worse when a lot of Ax calls are performed. \n\nIt can be tested with `alt-w = ['workspace W', 'exec-and-forget bash -c \"time ~/.bin/aerospace list-workspaces\" 2\u003e ~/log']`. I have 9 windows opened, and I get 300ms in `~/log`. 300ms is not that nice\n\n**(2)** The problem becomes worse when users need to call `aerospace list-workspaces` several times (E.g. to get all workspaces and focused workspaces). `list-workspaces` is designed to be called several times. Maybe the design could be reconsidered, or `--json` flag could be provided. With JSON format, AeroSpace could dump out all the info it knows about workspaces in a structured way.\n\nReported at: https://github.com/nikitabobko/AeroSpace/pull/81","files":null}]}