{"author":{"id":"c233ca9b4183123a534d8da118972473a45519a6e0e1b3548c99fae4a450a16e"},"ops":[{"type":1,"timestamp":1725032662,"nonce":"xMnh6+NQ4vmrtXH9EobUs948EcQ=","metadata":{"github-id":"I_kwDOJl1IZM6U3jfT","github-url":"https://github.com/nikitabobko/AeroSpace/issues/476","origin":"github"},"title":"How to change workspace/monitor assignment when monitor configuration changes?","message":"On my work laptop, I commonly change between one of three display configurations:\n- Office (laptop and one large external monitor)\n- Home office (laptop closed, two large external monitors)\n- Coffee shop (laptop only)\n\nWhat I would like to do is assign windows to workspaces (via `on-window-detected`), and then assign workspaces to monitors. So something like `workspace-to-monitor-force-assignment` seems like what I want, but I need the workspace\u003c-\u003emonitor mapping to change dynamically based on which of these display configurations is active.\n\nIs there currently a way to do this with AeroSpace? I previously had a working Yabai config that did this, but I can't use it due to my work laptop not allowing disabling SIP.\n\nIf this isn't currently supported, here is an idea of how it could work:\n\nIf `aerospace move-workspace-to-monitor` accepted identifiers for _which_ workspace to move to _which_ monitor, rather than relying solely on the current focus state, it would be easy to write a `organize-workspaces.sh` script. Something like this:\n\n\u003cdetails\u003e\n\u003csummary\u003e`organize-workspaces.sh`\u003c/summary\u003e\n\n```sh\n#!/bin/bash\n\n# These were obtained by plugging in the appropriate\n# monitors and running `aerospace list-monitors | pbcopy`\nLAPTOP_MODE='1 | Built-in Retina Display'\nHOME_OFFICE_MODE='1 | DELL U2720Q\n2 | DELL S2721DGF'\nOFFICE_MODE='1 | Built-in Retina Display\n2 | DELL U2720Q'\n\nCURRENT_MODE=\"$(aerospace list-monitors)\"\n\ncase $CURRENT_MODE in\n\n$LAPTOP_MODE)\n    # Don't need to do anything here because everything should auto-move to the only existing display\n    ;;\n\n$HOME_OFFICE_MODE)\n    aerospace move-workspace-to-monitor --workspace \"code\" --monitor \"DELL U2720Q\"\n    aerospace move-workspace-to-monitor --workspace \"term\" --monitor \"DELL U2720Q\"\n    aerospace move-workspace-to-monitor --workspace \"slack\" --monitor \"DELL S2721DGF\"\n    aerospace move-workspace-to-monitor --workspace \"browse\" --monitor \"DELL S2721DGF\"\n    ;;\n\n$OFFICE_MODE)\n    aerospace move-workspace-to-monitor --workspace \"code\" --monitor \"DELL U2720Q\"\n    aerospace move-workspace-to-monitor --workspace \"term\" --monitor \"DELL U2720Q\"\n    aerospace move-workspace-to-monitor --workspace \"slack\" --monitor \"Built-in Retina Display\"\n    aerospace move-workspace-to-monitor --workspace \"browse\" --monitor \"Built-in Retina Display\"\n    ;;\nesac\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003e`aerospace.toml`\u003c/summary\u003e\n\n```toml\n[[on-window-detected]]\ncheck-further-callbacks = true\nrun = 'layout floating'\n\n[[on-window-detected]]\nif.app-id = 'com.microsoft.VSCode'\nrun = ['move-node-to-workspace code']\n\n[[on-window-detected]]\nif.app-id = 'com.github.wez.wezterm'\nrun = ['move-node-to-workspace term']\n\n[[on-window-detected]]\nif.app-id = 'com.google.Chrome'\nrun = ['move-node-to-workspace browse']\n\n[[on-window-detected]]\nif.app-id = 'com.tinyspeck.slackmacgap'\nrun = ['move-node-to-workspace slack']\n\n[[on-window-detected]]\nif.app-id = 'us.zoom.xos'\nrun = ['move-node-to-workspace zoom']\n\n[[on-window-detected]]\nif.app-id = 'org.mozilla.firefoxdeveloperedition'\nrun = ['move-node-to-workspace fun']\n\n[[on-window-detected]]\nif.app-id = 'com.anytype.anytype'\nrun = ['move-node-to-workspace notes']\n\n```\n\n\u003c/details\u003e\n\nAnd then I'd just need to either manually run this script when changing displays, which isn't too annoying, or figure out some way to automatically trigger it.\n\n## Checklist\n\n- [x] I've searched for duplicates. My search queries were (please don't forget to search in closed issues too):\n  - is:issue display change\n  - is:issue monitor change\n  - is:issue workspace-to-monitor-force-assignment \n\n- [x] I've read the documentation https://nikitabobko.github.io/AeroSpace/guide \u0026 https://nikitabobko.github.io/AeroSpace/commands\n- [x] I've searched in the documentation. My search queries were:\n  - workspace-to-monitor-force-assignment\n  - display\n  - monitor\n\n```\naerospace CLI client version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\nAeroSpace.app server version: 0.14.2-Beta 0cb8dbdfc5ee73b8cbc200f175f467ebead55201\n```","files":null}]}