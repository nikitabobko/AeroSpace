{"author":{"id":"3f702808d4dce53115d59323ba14a0631b6f7cb461dfccdcda28e901341a4116"},"ops":[{"type":3,"timestamp":1727638529,"nonce":"iSS1LokqLFL4CmHbEpAKByzC95g=","metadata":{"github-id":"IC_kwDOJl1IZM6N8_jP","github-url":"https://github.com/nikitabobko/AeroSpace/issues/521#issuecomment-2381576399"},"message":"\u003e I thought this was a feature, so I was using this script to switch between windows on the same workspace.\n\u003e \n\u003e ```shell\n\u003e #!/bin/bash\n\u003e \n\u003e # Get the ID of the currently focused window\n\u003e current_window_id=$(aerospace list-windows --focused --format %{window-id})\n\u003e \n\u003e # Get a list of all window IDs in the current workspace, separated by newlines\n\u003e window_ids_string=$(aerospace list-windows --workspace focused --monitor focused --format %{window-id})\n\u003e \n\u003e # Convert the string of window IDs into an array\n\u003e IFS=$'\\n' read -d '' -ra window_ids \u003c\u003c\u003c \"$window_ids_string\"\n\u003e \n\u003e # Find the index of the current window in the list\n\u003e current_index=0\n\u003e for i in \"${!window_ids[@]}\"; do\n\u003e   if [[ \"${window_ids[$i]}\" == \"$current_window_id\" ]]; then\n\u003e     current_index=$i\n\u003e     break\n\u003e   fi\n\u003e done\n\u003e \n\u003e # Function to attempt focusing a window\n\u003e focus_window() {\n\u003e   local window_id=\"$1\"\n\u003e   aerospace focus --window-id \"$window_id\"\n\u003e   return $?\n\u003e }\n\u003e \n\u003e # Try focusing windows until successful or all windows have been tried\n\u003e for ((i=1; i\u003c=${#window_ids[@]}; i++)); do\n\u003e   next_index=$(( (current_index + i) % ${#window_ids[@]} ))\n\u003e next_window_id=\"${window_ids[$next_index]}\"\n\u003e \n\u003e   if focus_window \"$next_window_id\"; then\n\u003e     # Focus successful, exit the script\n\u003e     exit 0\n\u003e   fi\n\u003e   # If focus fails, the loop continues to the next window\n\u003e done\n\u003e \n\u003e # If we've tried all windows and none could be focused, exit with an error\n\u003e echo \"Failed to focus any window\"\n\u003e exit 1\n\u003e ```\n\nThanks for your script. I'm using skhd to bind cmd-tab to switch back and forth workspace and alt-tab to cycle windows using your script. It works on floating and accordion layout.","files":null},{"type":6,"timestamp":1727638989,"nonce":"1sAOywxaZBSRTlogCDXwtDTlFuE=","metadata":{"github-id":"UCE_lALOJl1IZM6N8_jPzlD8FtA"},"target":"34ee00bbe5fc47ae3d1f142cb9c1d893c4236739bec15185f37293c0c406153f","message":"\u003e I thought this was a feature, so I was using this script to switch between windows on the same workspace.\n\u003e \n\u003e ```shell\n\u003e #!/bin/bash\n\u003e \n\u003e # Get the ID of the currently focused window\n\u003e current_window_id=$(aerospace list-windows --focused --format %{window-id})\n\u003e \n\u003e # Get a list of all window IDs in the current workspace, separated by newlines\n\u003e window_ids_string=$(aerospace list-windows --workspace focused --monitor focused --format %{window-id})\n\u003e \n\u003e # Convert the string of window IDs into an array\n\u003e IFS=$'\\n' read -d '' -ra window_ids \u003c\u003c\u003c \"$window_ids_string\"\n\u003e \n\u003e # Find the index of the current window in the list\n\u003e current_index=0\n\u003e for i in \"${!window_ids[@]}\"; do\n\u003e   if [[ \"${window_ids[$i]}\" == \"$current_window_id\" ]]; then\n\u003e     current_index=$i\n\u003e     break\n\u003e   fi\n\u003e done\n\u003e \n\u003e # Function to attempt focusing a window\n\u003e focus_window() {\n\u003e   local window_id=\"$1\"\n\u003e   aerospace focus --window-id \"$window_id\"\n\u003e   return $?\n\u003e }\n\u003e \n\u003e # Try focusing windows until successful or all windows have been tried\n\u003e for ((i=1; i\u003c=${#window_ids[@]}; i++)); do\n\u003e   next_index=$(( (current_index + i) % ${#window_ids[@]} ))\n\u003e next_window_id=\"${window_ids[$next_index]}\"\n\u003e \n\u003e   if focus_window \"$next_window_id\"; then\n\u003e     # Focus successful, exit the script\n\u003e     exit 0\n\u003e   fi\n\u003e   # If focus fails, the loop continues to the next window\n\u003e done\n\u003e \n\u003e # If we've tried all windows and none could be focused, exit with an error\n\u003e echo \"Failed to focus any window\"\n\u003e exit 1\n\u003e ```\n\nThanks for your script. I'm using skhd to bind cmd-tab to switch back and forth workspace and alt-tab to cycle windows using your script. It works on floating and accordion layout. It seems a little bit slow, but it works anyway.","files":null}]}