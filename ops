{"author":{"id":"62773bb648cce312532b477a02dc1af1212f0ad48eacd886e18ea70a59410082"},"ops":[{"type":3,"timestamp":1732367797,"nonce":"C8XWjF33x1X7ohfWLGPdrVFZ6/A=","metadata":{"github-id":"IC_kwDOJl1IZM6UvfSt","github-url":"https://github.com/nikitabobko/AeroSpace/issues/104#issuecomment-2495476909"},"message":"I am using numerous aerospace CLI commands for my daily workflows (e.g., cycling through windows of active applications, focusing particular windows, etc.). The ~100 ms CLI became somewhat annoying to me since I started to feel the delay when I have ~300 ms in my scripts.\n\nFor this purpose, I experimented with some _hacky_ cache:\n\n```\non-focus-changed = [\n    'exec-and-forget aerospace list-windows --focused --format \"%{window-id}\" \u003e /tmp/aerospace_cache_focused.json', \n    'exec-and-forget aerospace list-windows --all --json --format \"%{window-id} %{window-title} %{app-bundle-id} %{app-name} %{app-pid} %{workspace} %{monitor-id} %{monitor-name}\"  \u003e /tmp/aerospace_cache_windows.json'\n]\n```\n\nFrom there on, my scripts simply use `cat $file | jq`.\nThe impact is remarkable. My scripts now feel totally different.\n\nI was wondering if some internal caching mechanism like that would be useful in general. For example, the focused window will not change until the \"on-focus-changed\" event is triggered. However, if I run it 3 times in a row, each run takes approximately 100 milliseconds.\nI know, this does not work for every case, e.g. a window's title could change in the background, but it could at least improve performance for all event-based changes.\n(Maybe the `list-*` commands could have either a `--fresh` or a `--cached` flag).","files":null}]}